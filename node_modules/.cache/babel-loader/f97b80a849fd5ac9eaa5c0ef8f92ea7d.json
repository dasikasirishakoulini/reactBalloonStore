{"ast":null,"code":"import _slicedToArray from\"/Users/sirishadasika/Desktop/balloon/Balloons-Store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useCallback,useMemo}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";export var DropDownMenuContext=/*#__PURE__*/React.createContext({opened:false,toggle:function toggle(){return null;},onChange:function onChange(_){return null;},selected:{key:'',value:''},options:[]});var DropDownMenu=function DropDownMenu(_ref){var children=_ref.children,options=_ref.options,onDropDownChange=_ref.onDropDownChange,defaultValue=_ref.defaultValue;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),opened=_useState2[0],setOpened=_useState2[1];var initial=useMemo(function(){return{key:'default',value:defaultValue};},[defaultValue]);var _useState3=useState(initial||options[0]),_useState4=_slicedToArray(_useState3,2),selected=_useState4[0],setSelected=_useState4[1];var toggle=useCallback(function(){setOpened(function(v){return!v;});},[]);var onChange=useCallback(function(val){if(selected.key===val.key)setSelected(initial);else setSelected(val);onDropDownChange(val);toggle();},[initial,onDropDownChange,selected,toggle]);return/*#__PURE__*/_jsx(DropDownMenuContext.Provider,{value:{opened:opened,toggle:toggle,selected:selected,onChange:onChange,options:options},children:/*#__PURE__*/_jsx(\"div\",{className:\"menu\",style:{position:'relative'},children:children})});};export default DropDownMenu;","map":{"version":3,"sources":["/Users/sirishadasika/Desktop/balloon/Balloons-Store/src/components/molecules/DropDownMenu/DropDownMenu.tsx"],"names":["React","useState","useCallback","useMemo","DropDownMenuContext","createContext","opened","toggle","onChange","_","selected","key","value","options","DropDownMenu","children","onDropDownChange","defaultValue","setOpened","initial","setSelected","v","val","position"],"mappings":"0KAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,WAA1B,CAAkDC,OAAlD,KAAiE,OAAjE,C,2CASA,MAAO,IAAMC,CAAAA,mBAAmB,cAAGJ,KAAK,CAACK,aAAN,CAAkC,CACnEC,MAAM,CAAE,KAD2D,CAEnEC,MAAM,CAAE,wBAAM,KAAN,EAF2D,CAGnEC,QAAQ,CAAE,kBAACC,CAAD,QAAwB,KAAxB,EAHyD,CAInEC,QAAQ,CAAE,CAAEC,GAAG,CAAE,EAAP,CAAWC,KAAK,CAAE,EAAlB,CAJyD,CAKnEC,OAAO,CAAE,EAL0D,CAAlC,CAA5B,CAgBP,GAAMC,CAAAA,YAA4D,CAAG,QAA/DA,CAAAA,YAA+D,MAK/D,IAJJC,CAAAA,QAII,MAJJA,QAII,CAHJF,OAGI,MAHJA,OAGI,CAFJG,gBAEI,MAFJA,gBAEI,CADJC,YACI,MADJA,YACI,eACwBhB,QAAQ,CAAU,KAAV,CADhC,wCACGK,MADH,eACWY,SADX,eAEJ,GAAMC,CAAAA,OAAO,CAAGhB,OAAO,CAAC,iBAAO,CAAEQ,GAAG,CAAE,SAAP,CAAkBC,KAAK,CAAEK,YAAzB,CAAP,EAAD,CAAkD,CAACA,YAAD,CAAlD,CAAvB,CAFI,eAG4BhB,QAAQ,CAAkBkB,OAAO,EAAIN,OAAO,CAAC,CAAD,CAApC,CAHpC,yCAGGH,QAHH,eAGaU,WAHb,eAKJ,GAAMb,CAAAA,MAAM,CAAGL,WAAW,CAAC,UAAM,CAC/BgB,SAAS,CAAC,SAAAG,CAAC,QAAI,CAACA,CAAL,EAAF,CAAT,CACD,CAFyB,CAEvB,EAFuB,CAA1B,CAIA,GAAMb,CAAAA,QAAQ,CAAGN,WAAW,CAC1B,SAAAoB,GAAG,CAAI,CACL,GAAIZ,QAAQ,CAACC,GAAT,GAAiBW,GAAG,CAACX,GAAzB,CAA8BS,WAAW,CAACD,OAAD,CAAX,CAA9B,IACKC,CAAAA,WAAW,CAACE,GAAD,CAAX,CACLN,gBAAgB,CAACM,GAAD,CAAhB,CACAf,MAAM,GACP,CANyB,CAO1B,CAACY,OAAD,CAAUH,gBAAV,CAA4BN,QAA5B,CAAsCH,MAAtC,CAP0B,CAA5B,CAUA,mBACE,KAAC,mBAAD,CAAqB,QAArB,EAA8B,KAAK,CAAE,CAAED,MAAM,CAANA,MAAF,CAAUC,MAAM,CAANA,MAAV,CAAkBG,QAAQ,CAARA,QAAlB,CAA4BF,QAAQ,CAARA,QAA5B,CAAsCK,OAAO,CAAPA,OAAtC,CAArC,uBACE,YAAK,SAAS,CAAC,MAAf,CAAsB,KAAK,CAAE,CAAEU,QAAQ,CAAE,UAAZ,CAA7B,UACGR,QADH,EADF,EADF,CAOD,CA/BD,CAiCA,cAAeD,CAAAA,YAAf","sourcesContent":["import React, { useState, useCallback, ReactNode, useMemo } from 'react';\n\ntype ContextProps = {\n  opened: boolean;\n  toggle: () => void;\n  onChange: (val: KeyValInterface) => void;\n  selected: KeyValInterface;\n  options: KeyValInterface[];\n};\nexport const DropDownMenuContext = React.createContext<ContextProps>({\n  opened: false,\n  toggle: () => null,\n  onChange: (_: KeyValInterface) => null,\n  selected: { key: '', value: '' },\n  options: [],\n});\n\ninterface DropDownMenuInterface {\n  children: ReactNode;\n  options: KeyValInterface[];\n  onDropDownChange: (val: KeyValInterface) => void;\n  className?: string;\n  defaultValue: string;\n}\n\nconst DropDownMenu: React.FunctionComponent<DropDownMenuInterface> = ({\n  children,\n  options,\n  onDropDownChange,\n  defaultValue,\n}) => {\n  const [opened, setOpened] = useState<boolean>(false);\n  const initial = useMemo(() => ({ key: 'default', value: defaultValue }), [defaultValue]);\n  const [selected, setSelected] = useState<KeyValInterface>(initial || options[0]);\n\n  const toggle = useCallback(() => {\n    setOpened(v => !v);\n  }, []);\n\n  const onChange = useCallback(\n    val => {\n      if (selected.key === val.key) setSelected(initial);\n      else setSelected(val);\n      onDropDownChange(val);\n      toggle();\n    },\n    [initial, onDropDownChange, selected, toggle],\n  );\n\n  return (\n    <DropDownMenuContext.Provider value={{ opened, toggle, selected, onChange, options }}>\n      <div className='menu' style={{ position: 'relative' }}>\n        {children}\n      </div>\n    </DropDownMenuContext.Provider>\n  );\n};\n\nexport default DropDownMenu;\n"]},"metadata":{},"sourceType":"module"}