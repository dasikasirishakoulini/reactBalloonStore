{"ast":null,"code":"import React,{useContext,useMemo,useRef}from'react';import withStyle from'./withStyle';import CartIndicator from'@components/molecules/CartIndicator/CartIndicator';import{Icon}from'@components/icons';import CartBalloon from'./Components/CartBalloon';import Button from'@components/atoms/Button';import{DrawerContext}from'@shared/Layout/LayoutContext';import{CartContext}from'@shared/cart';import useLockBodyScroll from'@shared/hooks/useLockBodyScroll';import useOnClickOutside from'@shared/hooks/useOnClickOutside';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CartDrawer=function CartDrawer(_ref){var className=_ref.className;var _useContext=useContext(DrawerContext),toggleDrawer=_useContext.toggleDrawer;var _useContext2=useContext(CartContext),balloons=_useContext2.balloons;var total=useMemo(function(){return balloons.reduce(function(acc,_ref2){var count=_ref2.count,balloon=_ref2.balloon;return acc+count*balloon.price;},0);},[balloons]);useLockBodyScroll();var ref=useRef(null);useOnClickOutside(ref,toggleDrawer);return/*#__PURE__*/_jsxs(\"div\",{className:className,ref:ref,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"drawer-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"drawer-header-top\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"close-icon-btn\",onClick:toggleDrawer,children:/*#__PURE__*/_jsx(Icon,{name:\"Close\"})}),/*#__PURE__*/_jsx(CartIndicator,{itemsCount:balloons.length})]}),/*#__PURE__*/_jsx(\"h2\",{className:\"my-cart\",children:\"MY CART\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"drawer-content \".concat(balloons.length<=0&&'empty'),children:[balloons.length<=0&&/*#__PURE__*/_jsx(\"h1\",{children:\"Your Cart is Empty.\"}),balloons.map(function(balloonWithQuantity){return/*#__PURE__*/_jsx(CartBalloon,{balloonWithQuantity:balloonWithQuantity});})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"drawer-footer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"total-container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"TOTAL\"}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"$\",total]})]}),/*#__PURE__*/_jsx(Button,{onClick:toggleDrawer,wide:true,content:\"PROCEED TO CHECKOUT\"})]})]});};export default withStyle(CartDrawer);","map":{"version":3,"sources":["/Users/sirishadasika/Desktop/balloon/Balloons-Store/src/shared/Layout/components/CartDrawer/CartDrawer.tsx"],"names":["React","useContext","useMemo","useRef","withStyle","CartIndicator","Icon","CartBalloon","Button","DrawerContext","CartContext","useLockBodyScroll","useOnClickOutside","CartDrawer","className","toggleDrawer","balloons","total","reduce","acc","count","balloon","price","ref","length","map","balloonWithQuantity"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,OAA5B,CAAqCC,MAArC,KAAmD,OAAnD,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAOC,CAAAA,aAAP,KAA0B,mDAA1B,CACA,OAASC,IAAT,KAAqB,mBAArB,CACA,MAAOC,CAAAA,WAAP,KAAwB,0BAAxB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,OAASC,aAAT,KAA8B,8BAA9B,CACA,OAASC,WAAT,KAA4B,cAA5B,CACA,MAAOC,CAAAA,iBAAP,KAA8B,iCAA9B,CACA,MAAOC,CAAAA,iBAAP,KAA8B,iCAA9B,C,wFAMA,GAAMC,CAAAA,UAA0C,CAAG,QAA7CA,CAAAA,UAA6C,MAAmB,IAAhBC,CAAAA,SAAgB,MAAhBA,SAAgB,iBAC3Cb,UAAU,CAACQ,aAAD,CADiC,CAC5DM,YAD4D,aAC5DA,YAD4D,kBAE/Cd,UAAU,CAACS,WAAD,CAFqC,CAE5DM,QAF4D,cAE5DA,QAF4D,CAGpE,GAAMC,CAAAA,KAAK,CAAGf,OAAO,CAAC,UAAM,CAC1B,MAAOc,CAAAA,QAAQ,CAACE,MAAT,CAAgB,SAACC,GAAD,WAAQC,CAAAA,KAAR,OAAQA,KAAR,CAAeC,OAAf,OAAeA,OAAf,OAA6BF,CAAAA,GAAG,CAAGC,KAAK,CAAGC,OAAO,CAACC,KAAnD,EAAhB,CAA0E,CAA1E,CAAP,CACD,CAFoB,CAElB,CAACN,QAAD,CAFkB,CAArB,CAIAL,iBAAiB,GAEjB,GAAMY,CAAAA,GAAG,CAAGpB,MAAM,CAAC,IAAD,CAAlB,CACAS,iBAAiB,CAACW,GAAD,CAAMR,YAAN,CAAjB,CAEA,mBACE,aAAK,SAAS,CAAED,SAAhB,CAA2B,GAAG,CAAES,GAAhC,wBACE,aAAK,SAAS,CAAC,eAAf,wBACE,aAAK,SAAS,CAAC,mBAAf,wBACE,eAAQ,SAAS,CAAC,gBAAlB,CAAmC,OAAO,CAAER,YAA5C,uBACE,KAAC,IAAD,EAAM,IAAI,CAAC,OAAX,EADF,EADF,cAIE,KAAC,aAAD,EAAe,UAAU,CAAEC,QAAQ,CAACQ,MAApC,EAJF,GADF,cAOE,WAAI,SAAS,CAAC,SAAd,qBAPF,GADF,cAWE,aAAK,SAAS,0BAAoBR,QAAQ,CAACQ,MAAT,EAAmB,CAAnB,EAAwB,OAA5C,CAAd,WACGR,QAAQ,CAACQ,MAAT,EAAmB,CAAnB,eAAwB,2CAD3B,CAEGR,QAAQ,CAACS,GAAT,CAAa,SAACC,mBAAD,qBACZ,KAAC,WAAD,EAAa,mBAAmB,CAAEA,mBAAlC,EADY,EAAb,CAFH,GAXF,cAkBE,aAAK,SAAS,CAAC,eAAf,wBACE,aAAK,SAAS,CAAC,iBAAf,wBACE,6BADF,cAEE,0BAAMT,KAAN,GAFF,GADF,cAKE,KAAC,MAAD,EAAQ,OAAO,CAAEF,YAAjB,CAA+B,IAAI,CAAE,IAArC,CAA2C,OAAO,CAAC,qBAAnD,EALF,GAlBF,GADF,CA4BD,CAxCD,CA0CA,cAAeX,CAAAA,SAAS,CAACS,UAAD,CAAxB","sourcesContent":["import React, { useContext, useMemo, useRef } from 'react';\nimport withStyle from './withStyle';\nimport CartIndicator from '@components/molecules/CartIndicator/CartIndicator';\nimport { Icon } from '@components/icons';\nimport CartBalloon from './Components/CartBalloon';\nimport Button from '@components/atoms/Button';\nimport { DrawerContext } from '@shared/Layout/LayoutContext';\nimport { CartContext } from '@shared/cart';\nimport useLockBodyScroll from '@shared/hooks/useLockBodyScroll';\nimport useOnClickOutside from '@shared/hooks/useOnClickOutside';\n\ninterface Props {\n  className?: string;\n}\n\nconst CartDrawer: React.FunctionComponent<Props> = ({ className }) => {\n  const { toggleDrawer } = useContext(DrawerContext);\n  const { balloons } = useContext(CartContext);\n  const total = useMemo(() => {\n    return balloons.reduce((acc, { count, balloon }) => acc + count * balloon.price, 0);\n  }, [balloons]);\n\n  useLockBodyScroll();\n\n  const ref = useRef(null);\n  useOnClickOutside(ref, toggleDrawer);\n\n  return (\n    <div className={className} ref={ref}>\n      <div className='drawer-header'>\n        <div className='drawer-header-top'>\n          <button className='close-icon-btn' onClick={toggleDrawer}>\n            <Icon name='Close' />\n          </button>\n          <CartIndicator itemsCount={balloons.length} />\n        </div>\n        <h2 className='my-cart'>MY CART</h2>\n      </div>\n\n      <div className={`drawer-content ${balloons.length <= 0 && 'empty'}`}>\n        {balloons.length <= 0 && <h1>Your Cart is Empty.</h1>}\n        {balloons.map((balloonWithQuantity: BalloonWithQuantity) => (\n          <CartBalloon balloonWithQuantity={balloonWithQuantity} />\n        ))}\n      </div>\n\n      <div className='drawer-footer'>\n        <div className='total-container'>\n          <h3>TOTAL</h3>\n          <h3>${total}</h3>\n        </div>\n        <Button onClick={toggleDrawer} wide={true} content='PROCEED TO CHECKOUT' />\n      </div>\n    </div>\n  );\n};\n\nexport default withStyle(CartDrawer);\n"]},"metadata":{},"sourceType":"module"}